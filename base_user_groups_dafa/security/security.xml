<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ##################################### -->
    <!-- Manage Users, Employees, Contacts Organization wide -->
    <!-- Hantera Användare och Org-uppgifter (Organisationsnivå) -->
    <!-- ##################################### -->
    
    <record id="category_dafa_handle_org_info" model="ir.module.category">
        <field name="name">DAFA - Organisational Admin Roles</field>
        <field name="description">Category for handling employee rights on organisational level.</field>
    </record>

    <record id="group_dafa_employees_read" model="res.groups">
        <field name="name">DAFA Admin (Read)</field>    
        <field name="comment">DAFA Admin - Read</field>  # Allows the users  to read the employee related information with the user rights cant edit any info.
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
    </record>

    <record id="group_dafa_employees_write" model="res.groups">
        <field name="name">DAFA Admin (Write)</field>
        <field name="comment">DAFA Admin - Write</field> # Allows users to read /edit the employee related information with the user rights and can create/delete the employees
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('group_dafa_employees_read')), (4, ref('hr.group_hr_user'))]"/>
    </record>

    <!-- Superadmin (Read) -->
    <!-- Hantera Organisationsuppgifter (Läs) -->
    <record id="group_dafa_org_admin_read" model="res.groups">
        <field name="name">DAFA Org Admin (Read)</field>
        <field name="comment">DAFA Org Admin - Read</field> # Allows users to read information related to the organization and all its departments and cant edit any info.
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
    </record>


    <!-- Superadmin (Write) -->
    <record id="group_dafa_superadmin" model="res.groups">
        <field name="name">DAFA Org Admin (Write) former SuperAdmin</field>
        <field name="comment">DAFA Superadmin</field> # Allows users to manage/edit the information related to the organization and all its departments.
        <field name="category_id" ref="category_dafa_handle_org_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('sales_team.group_sale_manager')), (4, ref('hr.group_hr_manager')), (4, ref('account.group_account_manager'))]"/>
    </record>

    <!-- ############################################ -->
    <!-- Manage Users, Employees, Contacts Department level -->
    <!-- Hantera Deltagare och Ekonomi (Utförandeverksamhetsnivå) -->
    <!-- ############################################ -->
    <record id="category_dafa_handle_department_info" model="ir.module.category">
        <field name="name">DAFA - Department Roles</field>
        <field name="description">Category for handling information and tasks related to jobseekers.</field>
    </record>

    <record id="group_dafa_participants_read" model="res.groups">
        <field name="name">DAFA Participants (Read)</field>
        <field name="comment">DAFA Participants - Read</field> # Allows the users to read the participants related information and process and cant edit any.
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
    </record>

    <record id="group_dafa_participants_write" model="res.groups">
        <field name="name">DAFA Participants (Write)</field>
        <field name="comment">DAFA Participants - Write</field> # Allows the users to manage(edit/add) participant related information and process
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('group_dafa_participants_read')), (4, ref('project.group_project_user')), (4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>


    <!-- Manage Accounting -->
    <!-- Hantera Ekonomi -->
    <record id="group_dafa_admin_accounting_read" model="res.groups">
        <field name="name">DAFA Accounting (Read)</field>
        <field name="comment">DAFA Accounting - Read</field>  # Allows the user to read the information related to the company's accounts such as order payments and invoices and cant edit any info.
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
    </record>

    <record id="group_dafa_admin_accounting_write" model="res.groups">
        <field name="name">DAFA Accounting (Write)</field>
        <field name="comment">DAFA Accounting - Gives access to read and change information related to the accounting of the company such as order-payments and invoices.</field>
        <field name="category_id" ref="category_dafa_handle_department_info"/>
        <field name="is_dafa" eval="True"/>
        <field name="implied_ids" eval="[(4, ref('group_dafa_admin_accounting_read')), (4, ref('account.group_account_invoice')), (4, ref('account.group_account_manager'))]"/>
    </record>
    
    <!-- DAFA Support -->
    <record model="ir.module.category" id="module_category_af_support">
        <field name="name">DAFA Support</field>
        <field name="description">Allows you to perform technical support.</field>
        <field name="sequence">1</field>
    </record>

    <record id="1_line_support" model="res.groups">
        <field name="name">DAFA 1st Line</field>
        <field name="category_id" ref="module_category_af_support"/>
        <field name="implied_ids" eval="[(4, ref('base_user_groups_dafa.group_dafa_employees_read')), (4, ref('base_user_groups_dafa.group_dafa_participants_read')), (4, ref('base_user_groups_dafa.group_dafa_admin_accounting_read')), (4, ref('base_user_groups_dafa.group_dafa_org_admin_read'))]"/>
        <field name="comment">DAFA READ-roles</field>
    </record>

    <record id="2_line_support" model="res.groups">
        <field name="name">DAFA 2nd Line</field>
        <field name="category_id" ref="module_category_af_support"/>
        <field name="implied_ids" eval="[(4, ref('1_line_support')), (4, ref('base_user_groups_dafa.group_dafa_participants_write')), (4, ref('base_user_groups_dafa.group_dafa_admin_accounting_write')), (4, ref('base_user_groups_dafa.group_dafa_superadmin'))]"/>
        <field name="comment">DAFA Write-roles</field>
    </record>

    <record id="3_line_support" model="res.groups">
        <field name="name">DAFA 3rd Line</field>
        <field name="category_id" ref="module_category_af_support"/>
        <field name="implied_ids" eval="[(4, ref('2_line_support')), (4, ref('base.group_system'))]"/>
        <field name="comment">DAFA Write-roles and Odoo Admin</field>
    </record>

</odoo>
